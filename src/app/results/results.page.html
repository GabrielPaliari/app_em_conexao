<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-menu-button *ngIf="!history"></ion-menu-button>
      <ion-back-button *ngIf="history"></ion-back-button>
    </ion-buttons>
    <!-- <ion-icon slot="start" color="secondary" name="cloud"></ion-icon> -->
    <ion-title *ngIf="user.type === 'doctor'">
      {{ history ? 'Análise Individual' : 'Análise Geral'}}
    </ion-title>
    <ion-title *ngIf="user.type === 'patient'">
      {{ user.type === 'doctor' ? 'Análise Geral' : 'Seu Histórico'}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>    
    <ion-card *ngIf="user.type === 'doctor' && !history">
      <ion-card-header>
        Análise geral dos Pacientes
      </ion-card-header>
      <ion-card-content>
        <canvas #barCanvas></canvas>
      </ion-card-content>
    </ion-card>

    <ion-card *ngIf="user.type === 'doctor' && !history">
      <ion-card-header>
        Estado dos Pacientes
      </ion-card-header>
      <ion-card-content>
        <canvas #doughnutCanvas></canvas>
      </ion-card-content>
    </ion-card>

    <ion-card *ngIf="user.type === 'patient' || history">
      <ion-card-header>
        Testes do Último Mês
      </ion-card-header>
      <ion-card-content>
        <canvas #lineCanvas></canvas>
      </ion-card-content>
    </ion-card>

    <ion-list *ngIf="user.type === 'doctor' && !history">
      <ion-list-header>Lista de Pacientes</ion-list-header> 
      
      <ion-item>
        <ion-avatar slot="start">
          <img src="assets/avatar-girl.jpeg">
        </ion-avatar>
        <ion-label>Larissa</ion-label>
      </ion-item>

      <ion-item>
        <ion-avatar slot="start">
          <img src="assets/avatar-men.jpeg">
        </ion-avatar>
        <ion-label>Roberto</ion-label>
      </ion-item>

      <ion-item>
        <ion-avatar slot="start">
          <img src="assets/avatar-girl.jpeg">
        </ion-avatar>
        <ion-label>Cibele</ion-label>
      </ion-item>
      
      <ion-item>
        <ion-avatar slot="start">
          <img src="assets/avatar-girl.jpeg">
        </ion-avatar>
        <ion-label>Bruna</ion-label>
      </ion-item>
      
      <ion-item>
        <ion-avatar slot="start">
          <img src="assets/avatar-men.jpeg">
        </ion-avatar>
        <ion-label>Felipe</ion-label>
      </ion-item>
      
      <ion-item>
        <ion-avatar slot="start">
          <img src="assets/avatar-girl.jpeg">
        </ion-avatar>
        <ion-label>João da Silva</ion-label>
      </ion-item>
      
      <ion-item>
        <ion-avatar slot="start">
          <img src="assets/avatar-men.jpeg">
        </ion-avatar>
        <ion-label>Maria Aparecida</ion-label>
      </ion-item>
    </ion-list>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
      <ion-fab-button (click)="startTest()">
        <ion-icon name="play"></ion-icon>
      </ion-fab-button>
    </ion-fab>
    <ion-list *ngIf="user.type === 'patient' || history">  
      <ion-list-header>Mão Direita</ion-list-header>    
      <ion-list-header>Tempo de Teste &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Data</ion-list-header>       
      <ion-item *ngFor="let data of datas; let i = index">
        <ion-icon color="secondary" name="timer" item-start></ion-icon>
        <ion-label>&nbsp; {{ tempos[i] }}s</ion-label>      
        <ion-label>{{ data }}</ion-label>                    
      </ion-item>    
    </ion-list>    
</ion-content>

